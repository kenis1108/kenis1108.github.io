<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Javascript_EVENT | Kenis</title><meta name="author" content="Kenis"><meta name="copyright" content="Kenis"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="EVENT（上） 之前我们简单的了解过一些事件，比如 onclick &#x2F; onload &#x2F; onscroll &#x2F; … 今天开始，我们详细的学习一些 事件  什么是事件 一个事件由什么东西组成  触发谁的事件：事件源 触发什么事件：事件类型 触发以后做什么：事件处理函数  123456var oDiv &#x3D; document.querySelector(&#x27;div">
<meta property="og:type" content="article">
<meta property="og:title" content="Javascript_EVENT">
<meta property="og:url" content="https://kenis1108.github.io/posts/d7924347.html">
<meta property="og:site_name" content="Kenis">
<meta property="og:description" content="EVENT（上） 之前我们简单的了解过一些事件，比如 onclick &#x2F; onload &#x2F; onscroll &#x2F; … 今天开始，我们详细的学习一些 事件  什么是事件 一个事件由什么东西组成  触发谁的事件：事件源 触发什么事件：事件类型 触发以后做什么：事件处理函数  123456var oDiv &#x3D; document.querySelector(&#x27;div">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg">
<meta property="article:published_time" content="2019-03-10T06:30:14.000Z">
<meta property="article:modified_time" content="2024-09-05T03:55:26.361Z">
<meta property="article:author" content="Kenis">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://kenis1108.github.io/posts/d7924347.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Javascript_EVENT',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-09-05 11:55:26'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="//at.alicdn.com/t/font_2379442_x21af219iw.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"><script src="https://cdn.jsdelivr.net/gh/kenis1108/kenis1108.github.io@main/source/live2d_widget/autoload.js"></script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">28</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-dragon"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/caseshow/"><i class="fa-fw far fa-grin-hearts"></i><span> 案例展示</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Kenis"><span class="site-name">Kenis</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-dragon"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/caseshow/"><i class="fa-fw far fa-grin-hearts"></i><span> 案例展示</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Javascript_EVENT</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2019-03-10T06:30:14.000Z" title="发表于 2019-03-10 14:30:14">2019-03-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-05T03:55:26.361Z" title="更新于 2024-09-05 11:55:26">2024-09-05</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>18分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Javascript_EVENT"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="EVENT（上）"><a href="#EVENT（上）" class="headerlink" title="EVENT（上）"></a>EVENT（上）</h1><ul>
<li>之前我们简单的了解过一些事件，比如 <code>onclick</code> &#x2F; <code>onload</code> &#x2F; <code>onscroll</code> &#x2F; …</li>
<li>今天开始，我们详细的学习一些 <strong>事件</strong></li>
</ul>
<h2 id="什么是事件"><a href="#什么是事件" class="headerlink" title="什么是事件"></a>什么是事件</h2><ul>
<li><p>一个事件由什么东西组成</p>
<ul>
<li>触发谁的事件：事件源</li>
<li>触发什么事件：事件类型</li>
<li>触发以后做什么：事件处理函数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oDiv = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line"></span><br><span class="line">oDiv.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br><span class="line"><span class="comment">// 谁来触发事件 =&gt; oDiv =&gt; 这个事件的事件源就是 oDiv</span></span><br><span class="line"><span class="comment">// 触发什么事件 =&gt; onclick =&gt; 这个事件类型就是 click</span></span><br><span class="line"><span class="comment">// 触发之后做什么 =&gt; function () &#123;&#125; =&gt; 这个事件的处理函数</span></span><br></pre></td></tr></table></figure>

<ul>
<li>我们想要在点击 div 以后做什么事情，就把我们要做的事情写在事件处理函数里面</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oDiv = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line"></span><br><span class="line">oDiv.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;你点击了 div&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>当我们点击 div 的时候，就会执行事件处理函数内部的代码</li>
<li>每点击一次，就会执行一次事件处理函数</li>
</ul>
</li>
</ul>
<h2 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h2><ul>
<li><p>什么是事件对象？</p>
</li>
<li><p>就是当你触发了一个事件以后，对该事件的一些描述信息</p>
</li>
<li><p>例如：</p>
<ul>
<li>你触发一个点击事件的时候，你点在哪个位置了，坐标是多少</li>
<li>你触发一个键盘事件的时候，你按的是哪个按钮</li>
<li>…</li>
</ul>
</li>
<li><p>每一个事件都会有一个对应的对象来描述这些信息，我们就把这个对象叫做 <strong>事件对象</strong></p>
</li>
<li><p>浏览器给了我们一个 <strong>黑盒子</strong>，叫做 <code>window.event</code>，就是对事件信息的所有描述</p>
<ul>
<li>比如点击事件</li>
<li>你点在了 <code>0，0</code> 位置，那么你得到的这个事件对象里面对应的就会有这个点位的属性</li>
<li>你点在了 <code>10, 10</code> 位置，那么你得到的这个事件对象里面对应的就会有这个点位的属性</li>
<li>…</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">oDiv.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">event</span>.<span class="property">X</span>轴坐标点信息)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">event</span>.<span class="property">Y</span>轴坐标点信息)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>这个玩意很好用，但是一般来说，好用的东西就会有 <strong>兼容性问题</strong></p>
</li>
<li><p>在 <code>IE低版本</code> 里面这个东西好用，但是在 <code>高版本IE</code> 和 <code>Chrome</code> 里面不好使了</p>
</li>
<li><p>我们就得用另一种方式来获取 <strong>事件对象</strong></p>
</li>
<li><p>在每一个事件处理函数的行参位置，默认第一个就是 <strong>事件对象</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">oDiv.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="comment">// e 就是和 IE 的 window.event 一样的东西</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">X</span>轴坐标点信息)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">Y</span>轴坐标点信息)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>综上所述，我们以后在每一个事件里面，想获取事件对象的时候，都用兼容写法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">oDiv.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">  e = e || <span class="variable language_">window</span>.<span class="property">event</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">X</span>轴坐标点信息)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">Y</span>轴坐标点信息)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="点击事件的光标坐标点获取"><a href="#点击事件的光标坐标点获取" class="headerlink" title="点击事件的光标坐标点获取"></a>点击事件的光标坐标点获取</h2><ul>
<li>刚才即然说了，可以获取到坐标点，那么接下来我们就学习一下怎么获取坐标点</li>
<li>我们的每一个点击事件的坐标点都不是一对，因为要有一个相对的坐标系</li>
<li>例如：<ul>
<li>相对事件源（你点击的元素）</li>
<li>相对页面</li>
<li>相对浏览器窗口</li>
<li>…</li>
</ul>
</li>
<li>因为都不一样，所以我们获取的 <strong>事件对象</strong> 里面的属性也不一样</li>
</ul>
<h3 id="相对于你点击的元素来说"><a href="#相对于你点击的元素来说" class="headerlink" title="相对于你点击的元素来说"></a>相对于你点击的元素来说</h3><ul>
<li><p><code>offsetX</code> 和 <code>offsetY</code></p>
</li>
<li><p>是相对于你点击的元素的边框内侧开始计算</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  * &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border</span>: <span class="number">10px</span> solid <span class="number">#333</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin</span>: <span class="number">20px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> oDiv = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 注册点击事件</span></span></span><br><span class="line"><span class="language-javascript">    oDiv.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 事件对象兼容写法</span></span></span><br><span class="line"><span class="language-javascript">      e = e || <span class="variable language_">window</span>.<span class="property">event</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">offsetX</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">offsetY</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/6cRIKS"><img src="https://s3.ax1x.com/2021/03/17/6cRIKS.jpg" alt="6cRIKS.jpg"></a></p>
<h3 id="相对于浏览器窗口你点击的坐标点"><a href="#相对于浏览器窗口你点击的坐标点" class="headerlink" title="相对于浏览器窗口你点击的坐标点"></a>相对于浏览器窗口你点击的坐标点</h3><ul>
<li><p><code>clientX</code> 和 <code>clientY</code></p>
</li>
<li><p>是相对于浏览器窗口来计算的，不管你页面滚动到什么情况，都是根据窗口来计算坐标</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  * &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">2000px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">2000px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border</span>: <span class="number">10px</span> solid <span class="number">#333</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin</span>: <span class="number">20px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> oDiv = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 注册点击事件</span></span></span><br><span class="line"><span class="language-javascript">    oDiv.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 事件对象兼容写法</span></span></span><br><span class="line"><span class="language-javascript">      e = e || <span class="variable language_">window</span>.<span class="property">event</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">clientX</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">clientY</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/6cRHEj"><img src="https://s3.ax1x.com/2021/03/17/6cRHEj.jpg" alt="6cRHEj.jpg"></a></p>
<h3 id="相对于页面你点击的坐标点"><a href="#相对于页面你点击的坐标点" class="headerlink" title="相对于页面你点击的坐标点"></a>相对于页面你点击的坐标点</h3><ul>
<li><p><code>pageX</code> 和 <code>pageY</code></p>
</li>
<li><p>是相对于整个页面的坐标点，不管有没有滚动，都是相对于页面拿到的坐标点</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  * &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">2000px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">2000px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border</span>: <span class="number">10px</span> solid <span class="number">#333</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin</span>: <span class="number">20px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> oDiv = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;div&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 注册点击事件</span></span></span><br><span class="line"><span class="language-javascript">    oDiv.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 事件对象兼容写法</span></span></span><br><span class="line"><span class="language-javascript">      e = e || <span class="variable language_">window</span>.<span class="property">event</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">pageX</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">pageY</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/6cR4v8"><img src="https://s3.ax1x.com/2021/03/17/6cR4v8.jpg" alt="6cR4v8.jpg"></a></p>
<ul>
<li><p>根据页面左上角来说</p>
<ul>
<li>margin-left 是 30</li>
<li>左边框是 10</li>
<li>左右 padding 各是 20</li>
<li>内容区域是 300</li>
<li><strong>pageX : 300 + 20 + 20 + 10 + 30 &#x3D; 380</strong></li>
<li>margin-top 是 20</li>
<li>上边框是 10</li>
<li>上下 padding 各是 20</li>
<li>内容区域是 300</li>
<li><strong>pageY : 300 + 20 + 20 + 10 + 20 &#x3D; 270</strong></li>
</ul>
</li>
</ul>
<p>注：</p>
<ul>
<li>X Y 一般出现在坐标系 <ul>
<li>描述一个点位 </li>
<li>当你看到 X Y 这一类的东西的时候 </li>
<li>和元素没有关系，和鼠标的点有关系 </li>
<li>就是在事件对象里面获取</li>
</ul>
</li>
<li>width height left top 一般出现在距离或者位置 <ul>
<li>描述一个距离或者位置关系 </li>
<li>一般出现在元素身上</li>
</ul>
</li>
</ul>
<h2 id="点击按键信息（了解）"><a href="#点击按键信息（了解）" class="headerlink" title="点击按键信息（了解）"></a>点击按键信息（了解）</h2><ul>
<li>我们的鼠标一般都有两个按键，一个左键一个右键</li>
<li>我们的事件对象里面也有这个信息，确定你点击的是左键还是右键</li>
<li>我们使用 <code>事件对象.button</code> 来获取信息</li>
<li><code>0</code> 为鼠标左键，<code>2</code> 为鼠标右键</li>
</ul>
<h2 id="常见的事件（了解）"><a href="#常见的事件（了解）" class="headerlink" title="常见的事件（了解）"></a>常见的事件（了解）</h2><ul>
<li>我们在写页面的时候经常用到的一些事件</li>
<li>大致分为几类，<strong>浏览器事件</strong> &#x2F; <strong>鼠标事件</strong> &#x2F; <strong>键盘事件</strong> &#x2F; <strong>表单事件</strong> &#x2F; <strong>触摸事件</strong></li>
<li>不需要都记住，但是大概要知道</li>
</ul>
<h3 id="浏览器事件"><a href="#浏览器事件" class="headerlink" title="浏览器事件"></a>浏览器事件</h3><ul>
<li><code>load</code> ： 页面全部资源加载完毕</li>
<li><code>scroll</code> ： 浏览器滚动的时候触发</li>
<li><code>resize</code> ： 浏览器窗口改变事件</li>
<li>…</li>
</ul>
<h3 id="鼠标事件"><a href="#鼠标事件" class="headerlink" title="鼠标事件"></a>鼠标事件</h3><ul>
<li><code>click</code> ：点击事件</li>
<li><code>dblclick</code> ：双击事件</li>
<li><code>contextmenu</code> ： 右键单击事件</li>
<li><code>mousedown</code> ：鼠标左键按下事件</li>
<li><code>mouseup</code> ：鼠标左键抬起事件</li>
<li><code>mousemove</code> ：鼠标移动</li>
<li><code>mouseover</code> ：鼠标移入事件</li>
<li><code>mouseout</code> ：鼠标移出事件</li>
<li><code>mouseenter</code> ：鼠标移入事件（不冒泡）</li>
<li><code>mouseleave</code> ：鼠标移出事件（不冒泡）</li>
<li><code>selectstart</code>：选中事件（不被 input 和 textarea 标签支持 ）</li>
<li><code>select</code>：选中事件（支持 input 和 textarea 标签）</li>
<li>…</li>
</ul>
<h3 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h3><ul>
<li><code>keyup</code> ： 键盘抬起事件</li>
<li><code>keydown</code> ： 键盘按下事件</li>
<li><code>keypress</code> ： 键盘按下再抬起事件（键盘产生可打印字符事件）</li>
<li>…</li>
</ul>
<h3 id="表单事件"><a href="#表单事件" class="headerlink" title="表单事件"></a>表单事件</h3><ul>
<li><code>change</code> : 表单内容改变事件</li>
<li><code>input</code> : 表单内容输入事件</li>
<li><code>submit</code> : 表单提交事件</li>
<li><code>focus</code> ：获得焦点事件</li>
<li><code>blur</code> ：失去焦点事件</li>
<li>…</li>
</ul>
<h3 id="触摸事件"><a href="#触摸事件" class="headerlink" title="触摸事件"></a>触摸事件</h3><ul>
<li><code>touchstart</code> ： 触摸开始事件</li>
<li><code>touchend</code> ： 触摸结束事件</li>
<li><code>touchmove</code> ： 触摸移动事件</li>
<li>…</li>
</ul>
<h2 id="键盘事件-1"><a href="#键盘事件-1" class="headerlink" title="键盘事件"></a>键盘事件</h2><ul>
<li><p>刚才了解了一下鼠标事件，现在来聊聊键盘事件</p>
</li>
<li><p>我们在键盘事件里面最主要的就是要做两个事情</p>
<ul>
<li>判断点击的是哪个按键</li>
<li>有没有组合按键，<strong>shift + a</strong> &#x2F; <strong>ctrl + b</strong> &#x2F; …</li>
</ul>
</li>
<li><p>我们先要明确一个问题，就是是不是所有元素都可以绑定键盘事件</p>
<ul>
<li>我们说事件有一个关键的东西是，该事件是由谁来触发的</li>
<li>一个 div 元素在页面上，我怎么能让一个键盘事件触发在 div 上</li>
<li>所以说，我们一般只给能在页面上选中的元素（表单元素） 和 <code>document</code> 来绑定键盘事件</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">onkeyup</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// code.. &#125; </span></span><br><span class="line">oInput.<span class="property">onkeyup</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// code.. &#125;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="确定按键"><a href="#确定按键" class="headerlink" title="确定按键"></a>确定按键</h3><ul>
<li><p>我们的键盘上每一个按键都有一个自己独立的编码</p>
</li>
<li><p>我们就是靠这个编码来确定我们按下的是哪个按键的</p>
</li>
<li><p>我们通过 <code>事件对象.keyCode</code> 或者 <code>事件对象.which</code> 来获取</p>
</li>
<li><p>为什么要有两个呢，是因为 FireFox2.0 不支持 <code>keycode</code> 所以要用 <code>which</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">keyup</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="comment">// 事件对象的兼容写法</span></span><br><span class="line">  e = e || <span class="variable language_">window</span>.<span class="property">event</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 获取键盘码的兼容写法</span></span><br><span class="line">  <span class="keyword">var</span> keyCode = e.<span class="property">keyCode</span> || e.<span class="property">which</span></span><br><span class="line">  </span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(keyCode)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="常见的键盘码（了解）"><a href="#常见的键盘码（了解）" class="headerlink" title="常见的键盘码（了解）"></a>常见的键盘码（了解）</h4><ul>
<li>8： 删除键（delete）</li>
<li>9： 制表符（tab）</li>
<li>13： 回车键（ebter）</li>
<li>16： 上档键（shift）</li>
<li>17： ctrl 键</li>
<li>18： alt 键</li>
<li>27： 取消键（esc）</li>
<li>32： 空格键（space）</li>
<li>…</li>
</ul>
<h3 id="组合按键"><a href="#组合按键" class="headerlink" title="组合按键"></a>组合按键</h3><ul>
<li><p>组合案件最主要的就是 <code>alt</code> &#x2F; <code>shift</code> &#x2F; <code>ctrl</code> 三个按键</p>
</li>
<li><p>在我点击某一个按键的时候判断一下这三个键有没有按下，有就是组合了，没有就是没有组合</p>
</li>
<li><p>事件对象里面也为我们提供了三个属性</p>
<ul>
<li><code>altKey</code> ：alt 键按下得到 true，否则得到 false</li>
<li><code>shiftKey</code> ：shift 键按下得到 true，否则得到 false</li>
<li><code>ctrlKey</code> ：ctrl 键按下得到 true，否则得到 false</li>
</ul>
</li>
<li><p>我们就可以通过这三个属性来判断是否按下了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">onkeyup</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">  e = e || <span class="variable language_">window</span>.<span class="property">event</span></span><br><span class="line">  keyCode = e.<span class="property">keyCode</span> || e.<span class="property">which</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (e.<span class="property">altKey</span> &amp;&amp; keyCode === <span class="number">65</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;你同时按下了 alt 和 a&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="事件的绑定方式"><a href="#事件的绑定方式" class="headerlink" title="事件的绑定方式"></a>事件的绑定方式</h2><ul>
<li><p>我们现在给一个注册事件都是使用 <code>onxxx</code> 的方式</p>
</li>
<li><p>但是这个方式不是很好，只能给一个元素注册一个相同类型的事件</p>
</li>
<li><p>一旦写了第二个事件，那么第一个就被覆盖了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">oDiv.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是第一个事件&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">oDiv.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是第二个事件&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>当你点击的时候，只会执行第二个，第一个就没有了</li>
</ul>
</li>
<li><p>我们还有一种事件监听的方式去给元素绑定事件</p>
</li>
<li><p>使用 <code>addEventListener</code> 的方式添加</p>
<ul>
<li>这个方法不兼容，在 IE 里面要使用 <code>attachEvent</code></li>
</ul>
</li>
</ul>
<h3 id="事件监听"><a href="#事件监听" class="headerlink" title="事件监听"></a>事件监听</h3><ul>
<li><p><code>addEventListener</code> :  非 IE 7 8 下使用</p>
</li>
<li><p>语法： <code>元素.addEventListener(&#39;事件类型&#39;， 事件处理函数， 冒泡还是捕获)</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">oDiv.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是第一个事件&#x27;</span>)</span><br><span class="line">&#125;, <span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">oDiv.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是第二个事件&#x27;</span>)</span><br><span class="line">&#125;, <span class="literal">false</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>当你点击 div 的时候，两个函数都会执行，并且会按照你注册的顺序执行</li>
<li>先打印 <code>我是第一个事件</code> 再打印 <code>我是第二个事件</code></li>
<li>注意： <strong>事件类型的时候不要写 on，点击事件就是 click，不是 onclick</strong></li>
</ul>
</li>
<li><p><code>attachEvent</code> ：IE 7 8 下使用</p>
</li>
<li><p>语法： <code>元素.attachEvent(&#39;事件类型&#39;， 事件处理函数)</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">oDiv.<span class="title function_">attachEvent</span>(<span class="string">&#x27;onclick&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是第一个事件&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">oDiv.<span class="title function_">attachEvent</span>(<span class="string">&#x27;onclick&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是第二个事件&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>当你点击 div 的时候，两个函数都会执行，并且会按照你注册的顺序倒叙执行</li>
<li>先打印 <code>我是第二个事件</code> 再打印 <code>我是第一个事件</code></li>
<li>注意： <strong>事件类型的时候要写 on，点击事件就行 onclick</strong></li>
</ul>
</li>
<li><p><code>removeEventListener </code>:  非 IE 7 8 下使用</p>
</li>
<li><p>语法：元素.removeEventListener(‘事件类型’， 事件处理函数， 冒泡还是捕获) </p>
</li>
<li><p><code>detachEvent</code>：IE 7 8 下使用</p>
</li>
<li><p>语法：<code>元素.detachEvent(&#39;事件类型&#39;， 事件处理函数)</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var x = document.getElementById(&quot;myDIV&quot;);</span><br><span class="line">if (x.removeEventListener) &#123;                   // // 所有浏览器，除了 IE 8 及更早IE版本</span><br><span class="line">    x.removeEventListener(&quot;mousemove&quot;, myFunction);</span><br><span class="line">&#125; else if (x.detachEvent) &#123;                   // IE 8 及更早IE版本</span><br><span class="line">    x.detachEvent(&quot;onmousemove&quot;, myFunction);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="两个方式的区别"><a href="#两个方式的区别" class="headerlink" title="两个方式的区别"></a>两个方式的区别</h3><ul>
<li>注册事件的时候事件类型参数的书写<ul>
<li><code>addEventListener</code> ： 不用写 on</li>
<li><code>attachEvent</code> ： 要写 on</li>
</ul>
</li>
<li>参数个数<ul>
<li><code>addEventListener</code> ： 一般是三个常用参数</li>
<li><code>attachEvent</code> ： 两个参数</li>
</ul>
</li>
<li>执行顺序<ul>
<li><code>addEventListener</code> ： 顺序注册，顺序执行</li>
<li><code>attachEvent</code> ： 顺序注册，倒叙执行</li>
</ul>
</li>
<li>适用浏览器<ul>
<li><code>addEventListener</code> ： 非 IE 7 8 的浏览器</li>
<li><code>attachEvent</code> ： IE 7 8 浏览器</li>
</ul>
</li>
</ul>
<h1 id="EVENT（下）"><a href="#EVENT（下）" class="headerlink" title="EVENT（下）"></a>EVENT（下）</h1><ul>
<li><p>今天来聊一聊事件的执行机制</p>
</li>
<li><p>什么是事件的执行机制呢？</p>
<ul>
<li><p>思考一个问题？</p>
</li>
<li><p>当一个大盒子嵌套一个小盒子的时候，并且两个盒子都有点击事件</p>
</li>
<li><p>你点击里面的小盒子，外面的大盒子上的点击事件要不要执行</p>
</li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/6cRoDg"><img src="https://s3.ax1x.com/2021/03/17/6cRoDg.jpg" alt="6cRoDg.jpg"></a></p>
<h2 id="事件的传播"><a href="#事件的传播" class="headerlink" title="事件的传播"></a>事件的传播</h2><ul>
<li>事件传播也称为事件流，指的是事件的流向，事件的执行顺序。 </li>
<li>就像上面那个图片一样，我们点击在红色盒子身上的同时，也是点击在了粉色盒子上</li>
<li>这个是既定事实，那么两个盒子的点击事件都会触发</li>
<li>这个就叫做 <strong>事件的传播</strong><ul>
<li><strong>当元素触发一个事件的时候，其父元素也会触发相同类型的事件，父元素的父元素也会触发相同类型的事件</strong></li>
<li>就像上面的图片一样</li>
<li>点击在红色盒子上的时候，会触发红色盒子的点击事件</li>
<li>也是点击在了粉色的盒子上，也会触发粉色盒子的点击事件</li>
<li>也是点击在了 body 上，也会触发 body 的点击事件</li>
<li>也是点击在了 html 上，也会触发 html 的点击事件</li>
<li>也是点击在了 document 上，也会触发 document 的点击事件</li>
<li>也是点击在了 window 上，也会触发 window 的点击事件</li>
<li>也就是说，页面上任何一个元素触发事件，都会一层一层最终导致 window 的相同事件触发，前提是各层级元素得有注册相同的事件，不然不会触发</li>
</ul>
</li>
<li>在事件传播的过程中，有一些注意的点：<ol>
<li>只会传播同类事件</li>
<li>只会从点击元素开始按照 html 的结构逐层向上元素的事件会被触发</li>
<li>内部元素不管有没有该事件，只要上层元素有该事件，那么上层元素的事件就会被触发</li>
</ol>
</li>
<li>到现在，我们已经了解了事件的传播，我们再来思考一个问题<ul>
<li>事件确实会从自己开始，到 window 的所有相同事件都会触发</li>
<li>是因为我们点在自己身上，也确实逐层的点在了直至 window 的每一个元素身上</li>
<li>但是到底是先点在自己身上，还是先点在了 window 身上呢</li>
<li>先点在自己身上，就是先执行自己的事件处理函数，逐层向上最后执行 window 的事件处理函数</li>
<li>反之，则是先执行 window 的事件处理函数，逐层向下最后执行自己身上的事件处理函数</li>
</ul>
</li>
</ul>
<h2 id="冒泡、捕获、目标"><a href="#冒泡、捕获、目标" class="headerlink" title="冒泡、捕获、目标"></a>冒泡、捕获、目标</h2><ul>
<li>我们刚才聊过了，每一个事件，都是有可能从自己到 window ，有可能要执行多个同类型事件</li>
<li>那么这个执行的顺序就有一些说法了</li>
</ul>
<h3 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h3><ul>
<li>你是点击在哪个元素身上了，那么这个事件的 <strong>目标</strong> 就是什么</li>
</ul>
<h3 id="冒泡"><a href="#冒泡" class="headerlink" title="冒泡"></a>冒泡</h3><ul>
<li>就是从事件 <strong>目标</strong> 的事件处理函数开始，依次向外，直到 window 的事件处理函数触发</li>
<li>也就是从下向上的执行事件处理函数</li>
</ul>
<h3 id="捕获"><a href="#捕获" class="headerlink" title="捕获"></a>捕获</h3><ul>
<li>就是从 window 的事件处理函数开始，依次向内，只要事件 <strong>目标</strong> 的事件处理函数执行</li>
<li>也就是从上向下的执行事件处理函数</li>
</ul>
<h3 id="冒泡和捕获的区别"><a href="#冒泡和捕获的区别" class="headerlink" title="冒泡和捕获的区别"></a>冒泡和捕获的区别</h3><ul>
<li>就是在事件的传播中，多个同类型事件处理函数的执行顺序不同</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/6cRTbQ"><img src="https://s3.ax1x.com/2021/03/17/6cRTbQ.png" alt="6cRTbQ.png"></a></p>
<h3 id="阻止事件传播"><a href="#阻止事件传播" class="headerlink" title="阻止事件传播"></a>阻止事件传播</h3><ul>
<li><p>因为事件传播会让点在里层的时候也会点击在外层</p>
</li>
<li><p>两个元素的事件都会被触发</p>
</li>
<li><p>如果想只触发当前点击对象的事件，不想让外层的事件触发</p>
</li>
<li><p>可以使用不冒泡e.cancelBubble&#x3D;true（IE）或不传播 e.stopPropagation()</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">var inner = document.querySelector(&#x27;.inner&#x27;)</span><br><span class="line">    var center = document.querySelector(&#x27;.center&#x27;)</span><br><span class="line">    var out = document.querySelector(&#x27;.out&#x27;)</span><br><span class="line">    inner.addEventListener(&#x27;click&#x27;, function (e) &#123;</span><br><span class="line">      e = e || window.event</span><br><span class="line">      this.innerHTML += 1</span><br><span class="line">      console.log(e)</span><br><span class="line"></span><br><span class="line">      // 不冒泡</span><br><span class="line">      // e.cancelBubble = true</span><br><span class="line"></span><br><span class="line">      // 不传播</span><br><span class="line">      // e.stopPropagation()</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    center.addEventListener(&#x27;click&#x27;, function (e) &#123;</span><br><span class="line">      e = e || window.event</span><br><span class="line">      this.innerHTML += 2</span><br><span class="line"></span><br><span class="line">      // e.stopPropagation()</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    out.addEventListener(&#x27;click&#x27;, function () &#123;</span><br><span class="line">      this.innerHTML += 3</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h2><ul>
<li>就是把我要做的事情委托给别人来做</li>
<li>因为我们的冒泡机制，点击子元素的时候，也会同步触发父元素的相同事件</li>
<li>所以我们就可以把子元素的事件委托给父元素来做</li>
</ul>
<h3 id="事件触发"><a href="#事件触发" class="headerlink" title="事件触发"></a>事件触发</h3><ul>
<li><p>点击子元素的时候，不管子元素有没有点击事件，只要父元素有点击事件，那么就可以触发父元素的点击事件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  	<span class="keyword">var</span> oUl = docuemnt.<span class="title function_">querySelector</span>(<span class="string">&#x27;ul&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    oUl.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是 ul 的点击事件，我被触发了&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>像上面一段代码，当你点击 ul 的时候肯定会触发</li>
<li>但是当你点击 li 的时候，其实也会触发</li>
</ul>
</li>
</ul>
<h3 id="target"><a href="#target" class="headerlink" title="target"></a>target</h3><ul>
<li><p>target 这个属性是事件对象里面的属性，表示你点击的目标</p>
</li>
<li><p>当你触发点击事件的时候，你点击在哪个元素上，target 就是哪个元素</p>
</li>
<li><p>这个 target 也不兼容，在 IE 下要使用 srcElement</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  	<span class="keyword">var</span> oUl = docuemnt.<span class="title function_">querySelector</span>(<span class="string">&#x27;ul&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    oUl.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      e = e || <span class="variable language_">window</span>.<span class="property">event</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> target = e.<span class="property">target</span> || e.<span class="property">srcElement</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(target)</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>上面的代码，当你点击 ul 的时候，target 就是 ul</li>
<li>当你点击在 li 上面的时候，target 就是 li</li>
</ul>
</li>
</ul>
<h3 id="委托"><a href="#委托" class="headerlink" title="委托"></a>委托</h3><ul>
<li><p>这个时候，当我们点击 li 的时候，也可以触发 ul 的点击事件</p>
</li>
<li><p>并且在事件内部，我们也可以拿到你点击的到底是 ul 还是 li</p>
</li>
<li><p>这个时候，我们就可以把 li 的事件委托给 ul 来做</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  	<span class="keyword">var</span> oUl = docuemnt.<span class="title function_">querySelector</span>(<span class="string">&#x27;ul&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    oUl.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      e = e || <span class="variable language_">window</span>.<span class="property">event</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> target = e.<span class="property">target</span> || e.<span class="property">srcElement</span></span></span><br><span class="line"><span class="language-javascript">     </span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 判断你点击的是 li</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">if</span> (target.<span class="property">nodeName</span>.<span class="title function_">toUpperCase</span>() === <span class="string">&#x27;LI&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      	<span class="comment">// 确定点击的是 li</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 因为当你点击在 ul 上面的时候，nodeName 应该是 &#x27;UL&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 去做点击 li 的时候该做的事情了</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是 li，我被点击了&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>上面的代码，我们就可以把 li 要做的事情委托给 ul 来做</li>
</ul>
</li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul>
<li>为什么要用事件委托<ul>
<li>我页面上本身没有 li</li>
<li>我通过代码添加了一些 li</li>
<li>添加进来的 li 是没有点击事件的</li>
<li>我每次动态的操作完 li 以后都要从新给 li 绑定一次点击事件</li>
<li>比较麻烦</li>
<li>这个时候只要委托给 ul 就可以了</li>
<li>因为新加进来的 li 也是 ul 的子元素，点击的时候也可以触发 ul 的点击事件</li>
</ul>
</li>
<li>事件委托的书写<ul>
<li>元素的事件只能委托给结构父级或者再结构父级的同样的事件上</li>
<li>li 的点击事件，就不能委托给 ul 的鼠标移入事件</li>
<li>li 的点击事件，只能委托给 ul 或者在高父级的点击事件上</li>
</ul>
</li>
</ul>
<p>委托优点：</p>
<ol>
<li><p>提高性能和效率</p>
</li>
<li><p>减少事件注册，节省内存占用</p>
</li>
<li><p>新增元素无需再次注册事件</p>
</li>
</ol>
<h2 id="默认行为"><a href="#默认行为" class="headerlink" title="默认行为"></a>默认行为</h2><ul>
<li>默认行为，就是不用我们注册，它自己就存在的事情<ul>
<li>比如我们点击鼠标右键的时候，会自动弹出一个菜单</li>
<li>比如我们点击 a 标签的时候，我们不需要注册点击事件，他自己就会跳转页面</li>
<li>…</li>
</ul>
</li>
<li>这些不需要我们注册就能实现的事情，我们叫做 <strong>默认事件</strong></li>
</ul>
<h3 id="阻止默认行为"><a href="#阻止默认行为" class="headerlink" title="阻止默认行为"></a>阻止默认行为</h3><ul>
<li><p>有的时候，我们不希望浏览器执行默认事件</p>
<ul>
<li>比如我给 a 标签绑定了一个点击事件，我点击你的时候希望你能告诉我你的地址是什么</li>
<li>而不是直接跳转链接</li>
<li>那么我们就要把 a 标签原先的默认事件阻止，不让他执行默认事件</li>
</ul>
</li>
<li><p>我们有两个方法来阻止默认事件</p>
<ul>
<li><code>e.preventDefault()</code> : 非 IE 使用</li>
<li><code>e.returnValue = false</code> ：IE 使用</li>
<li>直接return false</li>
</ul>
</li>
<li><p>我们阻止默认事件的时候也要写一个兼容的写法</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.baidu.com&quot;</span>&gt;</span>点击我试试<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">	<span class="keyword">var</span> oA = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;a&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  a.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    e = e || <span class="variable language_">window</span>.<span class="property">event</span></span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">href</span>)</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    e.<span class="property">preventDefault</span> ? e.<span class="title function_">preventDefault</span>() : e.<span class="property">returnValue</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">  &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>这样写完以后，你点击 a 标签的时候，就不会跳转链接了</li>
<li>而是会在控制台打印出 a 标签的 href 属性的值</li>
</ul>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://kenis1108.github.io">Kenis</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://kenis1108.github.io/posts/d7924347.html">https://kenis1108.github.io/posts/d7924347.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://kenis1108.github.io" target="_blank">Kenis</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaScript/">JavaScript</a></div><div class="post_share"><div class="addtoany"><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_wechat"></a><a class="a2a_button_sina_weibo"></a><a class="a2a_button_facebook_messenger"></a><a class="a2a_button_email"></a><a class="a2a_button_copy_link"></a><a class="a2a_dd" target="_blank" rel="noopener" href="https://www.addtoany.com/share"></a></div></div><script async="async" src="https://static.addtoany.com/menu/page.js"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/ad65cb4e.html" title="Javascript_RegExp"><img class="cover" src="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Javascript_RegExp</div></div></a></div><div class="next-post pull-right"><a href="/posts/b18b9acc.html" title="Javascript基础"><img class="cover" src="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Javascript基础</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/b93d4cd8.html" title="Angular"><img class="cover" src="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-04</div><div class="title">Angular</div></div></a></div><div><a href="/posts/f93195bc.html" title="vuepress的使用"><img class="cover" src="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-13</div><div class="title">vuepress的使用</div></div></a></div><div><a href="/posts/44d63540.html" title="ng-alain的使用"><img class="cover" src="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-13</div><div class="title">ng-alain的使用</div></div></a></div><div><a href="/posts/ef383857.html" title="Vue&#x2F;React的组件传值"><img class="cover" src="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-16</div><div class="title">Vue&#x2F;React的组件传值</div></div></a></div><div><a href="/posts/28239a8d.html" title="Javascript面向对象"><img class="cover" src="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-03-18</div><div class="title">Javascript面向对象</div></div></a></div><div><a href="/posts/3ee5605f.html" title="Javascript运动函数"><img class="cover" src="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-03-18</div><div class="title">Javascript运动函数</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Kenis</div><div class="author-info__description">心静能治三千疾</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">28</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/kenis1108"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:kenisdsg1108@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">文章大部分都过时了,清理中</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#EVENT%EF%BC%88%E4%B8%8A%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">EVENT（上）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.1.</span> <span class="toc-text">什么是事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.2.</span> <span class="toc-text">事件对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%85%89%E6%A0%87%E5%9D%90%E6%A0%87%E7%82%B9%E8%8E%B7%E5%8F%96"><span class="toc-number">1.3.</span> <span class="toc-text">点击事件的光标坐标点获取</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%AF%B9%E4%BA%8E%E4%BD%A0%E7%82%B9%E5%87%BB%E7%9A%84%E5%85%83%E7%B4%A0%E6%9D%A5%E8%AF%B4"><span class="toc-number">1.3.1.</span> <span class="toc-text">相对于你点击的元素来说</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%AF%B9%E4%BA%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AA%97%E5%8F%A3%E4%BD%A0%E7%82%B9%E5%87%BB%E7%9A%84%E5%9D%90%E6%A0%87%E7%82%B9"><span class="toc-number">1.3.2.</span> <span class="toc-text">相对于浏览器窗口你点击的坐标点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%AF%B9%E4%BA%8E%E9%A1%B5%E9%9D%A2%E4%BD%A0%E7%82%B9%E5%87%BB%E7%9A%84%E5%9D%90%E6%A0%87%E7%82%B9"><span class="toc-number">1.3.3.</span> <span class="toc-text">相对于页面你点击的坐标点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%82%B9%E5%87%BB%E6%8C%89%E9%94%AE%E4%BF%A1%E6%81%AF%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-number">1.4.</span> <span class="toc-text">点击按键信息（了解）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E4%BA%8B%E4%BB%B6%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-number">1.5.</span> <span class="toc-text">常见的事件（了解）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.5.1.</span> <span class="toc-text">浏览器事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.5.2.</span> <span class="toc-text">鼠标事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.5.3.</span> <span class="toc-text">键盘事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.5.4.</span> <span class="toc-text">表单事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A6%E6%91%B8%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.5.5.</span> <span class="toc-text">触摸事件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6-1"><span class="toc-number">1.6.</span> <span class="toc-text">键盘事件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AE%E5%AE%9A%E6%8C%89%E9%94%AE"><span class="toc-number">1.6.1.</span> <span class="toc-text">确定按键</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E9%94%AE%E7%9B%98%E7%A0%81%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-number">1.6.1.1.</span> <span class="toc-text">常见的键盘码（了解）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E6%8C%89%E9%94%AE"><span class="toc-number">1.6.2.</span> <span class="toc-text">组合按键</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E7%9A%84%E7%BB%91%E5%AE%9A%E6%96%B9%E5%BC%8F"><span class="toc-number">1.7.</span> <span class="toc-text">事件的绑定方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC"><span class="toc-number">1.7.1.</span> <span class="toc-text">事件监听</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E6%96%B9%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.7.2.</span> <span class="toc-text">两个方式的区别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#EVENT%EF%BC%88%E4%B8%8B%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">EVENT（下）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E7%9A%84%E4%BC%A0%E6%92%AD"><span class="toc-number">2.1.</span> <span class="toc-text">事件的传播</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E3%80%81%E6%8D%95%E8%8E%B7%E3%80%81%E7%9B%AE%E6%A0%87"><span class="toc-number">2.2.</span> <span class="toc-text">冒泡、捕获、目标</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87"><span class="toc-number">2.2.1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%92%E6%B3%A1"><span class="toc-number">2.2.2.</span> <span class="toc-text">冒泡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8D%95%E8%8E%B7"><span class="toc-number">2.2.3.</span> <span class="toc-text">捕获</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E5%92%8C%E6%8D%95%E8%8E%B7%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.2.4.</span> <span class="toc-text">冒泡和捕获的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E4%BC%A0%E6%92%AD"><span class="toc-number">2.2.5.</span> <span class="toc-text">阻止事件传播</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98"><span class="toc-number">2.3.</span> <span class="toc-text">事件委托</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91"><span class="toc-number">2.3.1.</span> <span class="toc-text">事件触发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#target"><span class="toc-number">2.3.2.</span> <span class="toc-text">target</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A7%94%E6%89%98"><span class="toc-number">2.3.3.</span> <span class="toc-text">委托</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">2.3.4.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E8%A1%8C%E4%B8%BA"><span class="toc-number">2.4.</span> <span class="toc-text">默认行为</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E8%A1%8C%E4%B8%BA"><span class="toc-number">2.4.1.</span> <span class="toc-text">阻止默认行为</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/7f872e8a.html" title="域名、子域名、IP地址与服务器端口之间的关系以及子域名和反向代理的区别"><img src="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="域名、子域名、IP地址与服务器端口之间的关系以及子域名和反向代理的区别"/></a><div class="content"><a class="title" href="/posts/7f872e8a.html" title="域名、子域名、IP地址与服务器端口之间的关系以及子域名和反向代理的区别">域名、子域名、IP地址与服务器端口之间的关系以及子域名和反向代理的区别</a><time datetime="2024-09-03T13:01:40.000Z" title="发表于 2024-09-03 21:01:40">2024-09-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/80d480ac.html" title="koa2+mongodb搭建后端api项目"><img src="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="koa2+mongodb搭建后端api项目"/></a><div class="content"><a class="title" href="/posts/80d480ac.html" title="koa2+mongodb搭建后端api项目">koa2+mongodb搭建后端api项目</a><time datetime="2021-11-22T03:28:28.000Z" title="发表于 2021-11-22 11:28:28">2021-11-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/b93d4cd8.html" title="Angular"><img src="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Angular"/></a><div class="content"><a class="title" href="/posts/b93d4cd8.html" title="Angular">Angular</a><time datetime="2021-08-04T00:54:25.000Z" title="发表于 2021-08-04 08:54:25">2021-08-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/730667ac.html" title="python+selenium webdriver自动化测试"><img src="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="python+selenium webdriver自动化测试"/></a><div class="content"><a class="title" href="/posts/730667ac.html" title="python+selenium webdriver自动化测试">python+selenium webdriver自动化测试</a><time datetime="2021-07-23T02:18:50.000Z" title="发表于 2021-07-23 10:18:50">2021-07-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/ccd37491.html" title="electron"><img src="https://cdn.jsdelivr.net/gh/kenis1108/imgbed@main/img/wallhaven-95j9pw.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="electron"/></a><div class="content"><a class="title" href="/posts/ccd37491.html" title="electron">electron</a><time datetime="2021-07-22T02:16:27.000Z" title="发表于 2021-07-22 10:16:27">2021-07-22</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2024 By Kenis</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a href="https://kenis1108.github.io">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const initGitalk = () => {
    const gitalk = new Gitalk(Object.assign({
      clientID: '748f83045ba6e97360fd',
      clientSecret: 'babb5c5943be448a55199564686ff5adff76a567',
      repo: 'kenis1108.github.io',
      owner: 'kenis1108',
      admin: ['kenis1108'],
      id: 'c7c7808a7f878ad7ed71d6c8dfd25be1',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  const loadGitalk = async() => {
    if (typeof Gitalk === 'function') initGitalk()
    else {
      await getCSS('https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.css')
      await getScript('https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.js')
      initGitalk()
    }
  }
  
  const commentCount = n => {
    const isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
    if (isCommentCount) {
      isCommentCount.textContent= n
    }
  }

  if ('Gitalk' === 'Gitalk' || !true) {
    if (true) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
    else loadGitalk()
  } else {
    window.loadOtherComment = loadGitalk
  }
})()</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>